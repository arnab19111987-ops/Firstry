#!/usr/bin/env bash
set -euo pipefail

# Point git at our repo-owned hooks
git config core.hooksPath .githooks

# Ensure pre-commit is installed and installs its own managed hooks (no-op if already present)
if command -v pre-commit >/dev/null 2>&1; then
  pre-commit install --hook-type pre-commit --hook-type pre-push || true
else
  echo "ℹ️  pre-commit not found; install it later with 'pip install pre-commit' then run 'pre-commit install'."
fi

echo "✅ Hooks enabled (core.hooksPath=.githooks)."
