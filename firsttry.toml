[bandit]
args = [
  "-q",
  "-x",
  ".git,.venv,.venv-build,__pycache__,.pytest_cache,.mypy_cache,.ruff_cache,node_modules,dist,build,.next,coverage,.firsttry",
]
# 0 => auto (CPU count). Can be overridden with FT_BANDIT_JOBS env var.
jobs = 0
[tool.firsttry]
fail_on_drift = true

[tool.firsttry.run]
tools = ["black", "ci-parity", "mypy", "npm test", "pytest", "ruff"]

[tool.firsttry.tool.ruff]
cmd = "ruff check ."

[tool.firsttry.tool.black]
cmd = "black --check ."

[tool.firsttry.tool.mypy]
cmd = "mypy ."

[tool.firsttry.tool.pytest]
cmd = "pytest -q"

[tool.firsttry.tool."npm test"]
cmd = "npm test"

[tool.firsttry.checks.bandit]
enabled = true
blocking = false
fail_on = "high"
jobs = 0
include = ["src"]
exclude = [".venv","node_modules",".git","__pycache__","build","dist"]
extra_args = ["-q"]
