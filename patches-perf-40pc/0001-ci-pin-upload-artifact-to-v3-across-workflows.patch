From 44cd5f27c543fb82f3154c2aff1d0747816d8a2f Mon Sep 17 00:00:00 2001
From: arnab19111987-ops <arnab19111987@gmail.com>
Date: Tue, 11 Nov 2025 06:13:42 +0000
Subject: [PATCH 1/3] ci: pin upload-artifact to v3 across workflows

---
 .github/workflows/audit-hardened.yml        |   4 +-
 .github/workflows/audit.yml                 |  10 +-
 .github/workflows/ci-gate.yml               |   2 +-
 .github/workflows/ci-hardened.yml           |  12 +-
 .github/workflows/ci.yml                    | 139 +++-----------------
 .github/workflows/codeql.yml                |   2 +-
 .github/workflows/firsttry-ci-parity.yml    |   2 +-
 .github/workflows/firsttry-ci.yml           |   4 +-
 .github/workflows/firsttry-proof.yml        |   4 +-
 .github/workflows/firsttry-quality.yml      |   2 +-
 .github/workflows/gates-safety-suite.yml    |   6 +-
 .github/workflows/licensing-ci.yml          |   2 +-
 .github/workflows/node-ci.yml               |   2 +-
 .github/workflows/quality.yml               |   2 +-
 .github/workflows/remote-cache-e2e.yml      |   4 +-
 .github/workflows/remote-cache-hardened.yml |   6 +-
 .github/workflows/remote-cache.yml          |   8 +-
 17 files changed, 57 insertions(+), 154 deletions(-)

diff --git a/.github/workflows/audit-hardened.yml b/.github/workflows/audit-hardened.yml
index ddc712e3..a223bcf8 100644
--- a/.github/workflows/audit-hardened.yml
+++ b/.github/workflows/audit-hardened.yml
@@ -69,7 +69,7 @@ jobs:
         uses: actions/checkout@v4
 
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: "3.11"
 
@@ -137,7 +137,7 @@ jobs:
 
       - name: Upload audit report
         if: always()
-        uses: actions/upload-artifact@v5  # v3
+        uses: actions/upload-artifact@v3  # v3
         with:
           name: audit-report-${{ github.run_number }}
           path: /tmp/audit_report.md
diff --git a/.github/workflows/audit.yml b/.github/workflows/audit.yml
index 6d7c1da6..45112e9d 100644
--- a/.github/workflows/audit.yml
+++ b/.github/workflows/audit.yml
@@ -107,7 +107,7 @@ jobs:
 
       - name: Upload dependency reports
         if: always()
-        uses: actions/upload-artifact@v4
+        uses: actions/upload-artifact@v3
         with:
           name: dependency-audit
           path: |
@@ -121,7 +121,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: "3.11"
 
@@ -198,7 +198,7 @@ jobs:
 
       - name: Upload SBOM artifacts
         if: always()
-        uses: actions/upload-artifact@v4
+        uses: actions/upload-artifact@v3
         with:
           name: sbom-reports
           path: |
@@ -355,7 +355,7 @@ jobs:
 
       - name: Upload audit artifacts
         if: always()
-        uses: actions/upload-artifact@v4
+        uses: actions/upload-artifact@v3
         with:
           name: audit-proof
           if-no-files-found: warn
@@ -365,7 +365,7 @@ jobs:
 
       - name: Upload compliance report
         if: always()
-        uses: actions/upload-artifact@v4
+        uses: actions/upload-artifact@v3
         with:
           name: compliance-reports
           path: |
diff --git a/.github/workflows/ci-gate.yml b/.github/workflows/ci-gate.yml
index 8cf314ae..cc85faf3 100644
--- a/.github/workflows/ci-gate.yml
+++ b/.github/workflows/ci-gate.yml
@@ -35,7 +35,7 @@ jobs:
         uses: actions/checkout@v4
 
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: "3.11"
           cache: "pip"
diff --git a/.github/workflows/ci-hardened.yml b/.github/workflows/ci-hardened.yml
index 4e219914..e83abb20 100644
--- a/.github/workflows/ci-hardened.yml
+++ b/.github/workflows/ci-hardened.yml
@@ -64,7 +64,7 @@ jobs:
       - uses: actions/checkout@v4
         # v4 pinned by SHA
       
-      - uses: actions/setup-python@v5
+      - uses: actions/setup-python@v4
         with:
           python-version: ${{ needs.setup.outputs.python-version }}
           cache: "pip"
@@ -88,7 +88,7 @@ jobs:
       - uses: actions/checkout@v4
         # v4 pinned by SHA
       
-      - uses: actions/setup-python@v5
+      - uses: actions/setup-python@v4
         with:
           python-version: ${{ needs.setup.outputs.python-version }}
           cache: "pip"
@@ -116,7 +116,7 @@ jobs:
       - uses: actions/checkout@v4
         # v4 pinned by SHA
       
-      - uses: actions/setup-python@v5
+      - uses: actions/setup-python@v4
         with:
           python-version: ${{ matrix.python }}
           cache: "pip"
@@ -171,7 +171,7 @@ jobs:
       - uses: actions/checkout@v4
         # v4 pinned by SHA
       
-      - uses: actions/setup-python@v5
+      - uses: actions/setup-python@v4
         with:
           python-version: ${{ needs.setup.outputs.python-version }}
           cache: "pip"
@@ -199,7 +199,7 @@ jobs:
       - uses: actions/checkout@v4
         # v4 pinned by SHA
       
-      - uses: actions/setup-python@v5
+      - uses: actions/setup-python@v4
         with:
           python-version: ${{ needs.setup.outputs.python-version }}
           cache: "pip"
@@ -231,7 +231,7 @@ jobs:
       - uses: actions/checkout@v4
         # v4 pinned by SHA
       
-      - uses: actions/setup-python@v5
+      - uses: actions/setup-python@v4
         with:
           python-version: ${{ needs.setup.outputs.python-version }}
         # v5 pinned by SHA
diff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml
index cb3ba879..b5e374d9 100644
--- a/.github/workflows/ci.yml
+++ b/.github/workflows/ci.yml
@@ -1,28 +1,3 @@
-name: CI
-on:
-  push:
-  pull_request:
-
-jobs:
-  repo-tests:
-    runs-on: ubuntu-latest
-    steps:
-      - uses: actions/checkout@v4
-      - uses: actions/setup-python@v5
-        with: { python-version: '3.11' }
-      - run: pip install -e ".[test]"
-      - name: Repo tests (src)
-        run: PYTHONPATH=src pytest -q tests
-
-  tooling-tests:
-    runs-on: ubuntu-latest
-    steps:
-      - uses: actions/checkout@v4
-      - uses: actions/setup-python@v5
-        with: { python-version: '3.11' }
-      - run: pip install -e ".[test]"
-      - name: Tooling tests (tools)
-        run: PYTHONPATH=tools pytest -q tools/firsttry
 name: CI - FirstTry Enterprise Pipeline
 
 on:
@@ -42,6 +17,7 @@ permissions:
 concurrency:
   group: ${{ github.workflow }}-${{ github.ref }}
   cancel-in-progress: true
+
 env:
   PYTHON_VERSION: "3.11"
   NODE_VERSION: "20"
@@ -80,12 +56,10 @@ jobs:
     runs-on: ubuntu-latest
     steps:
       - uses: actions/checkout@v4
-
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: '3.11'
-
       - name: Validate workflow YAMLs
         run: |
           pip install pyyaml
@@ -104,24 +78,20 @@ jobs:
     needs: setup
     steps:
       - uses: actions/checkout@v4
-
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: ${{ needs.setup.outputs.python-version }}
           cache: pip
-
       - name: Install dependencies
         run: |
           python -m pip install --upgrade pip
           pip install ruff==0.14.3
-
       - name: Run ruff linter
         run: |
           echo "ðŸ” Running Ruff linter on FirstTry codebase..."
           ruff check src/ tests/ --config pyproject.toml
           echo "âœ… Ruff linting passed"
-
       - name: Ruff format check
         run: |
           echo "ðŸ“‹ Checking code formatting..."
@@ -133,18 +103,15 @@ jobs:
     needs: setup
     steps:
       - uses: actions/checkout@v4
-
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: ${{ needs.setup.outputs.python-version }}
           cache: pip
-
       - name: Install dependencies
         run: |
           python -m pip install --upgrade pip
           pip install mypy==1.18.2 types-PyYAML types-requests
-
       - name: Run MyPy type checker (strict mode)
         run: |
           echo "ðŸ” Running MyPy type safety checks..."
@@ -153,10 +120,9 @@ jobs:
           python -m mypy src/firsttry/smart_pytest.py --config-file=mypy.ini
           python -m mypy src/firsttry/scanner.py --config-file=mypy.ini
           echo "âœ… MyPy type checking passed (zero errors)"
-
       - name: Upload type safety report
         if: always()
-        uses: actions/upload-artifact@v5  # v4 pinned by SHA
+        uses: actions/upload-artifact@v3
         with:
           name: mypy-report
           path: |
@@ -177,29 +143,24 @@ jobs:
         test-tier: [lite, pro]
     steps:
       - uses: actions/checkout@v4
-
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: ${{ needs.setup.outputs.python-version }}
           cache: pip
-
       - name: Set up Node.js
         uses: actions/setup-node@v3
         with:
           node-version: ${{ needs.setup.outputs.node-version }}
           cache: npm
-
       - name: Install Python dependencies
         run: |
           python -m pip install --upgrade pip
           pip install -r requirements.txt
           pip install pytest==8.4.2 pytest-cov==4.1.0 pytest-timeout==2.1.0
-
       - name: Install Node dependencies
         run: |
           npm install eslint prettier
-
       - name: Run Lite tier tests
         if: matrix.test-tier == 'lite'
         run: |
@@ -210,7 +171,6 @@ jobs:
             --cov-report=json \
             --timeout=30 \
             -v
-
       - name: Run Pro tier tests
         if: matrix.test-tier == 'pro'
         env:
@@ -223,21 +183,18 @@ jobs:
             --cov-report=json \
             --timeout=30 \
             -v
-
       - name: Gate script unit tests
         if: always()
         run: |
           echo "ðŸ”¬ Running gate unit tests for check_critical_coverage.py"
           pytest -q tests/tools/test_check_critical_coverage.py
-
       - name: Gate JSON summary unit tests
         if: always()
         run: |
           echo "ðŸ”¬ Running gate JSON-summary unit tests"
           pytest -q tests/tools/test_check_critical_coverage_json.py
-
       - name: Snapshot CLI help (artifact)
-        if: matrix.test-tier == 'lite'  # Run only once to avoid duplicates
+        if: matrix.test-tier == 'lite'
         run: |
           mkdir -p .firsttry
           PYTHONPATH=src python -m firsttry --help > .firsttry/cli_help.txt
@@ -245,9 +202,8 @@ jobs:
           PYTHONPATH=src python -m firsttry status --help > .firsttry/cli_status_help.txt
           PYTHONPATH=src python -m firsttry doctor --help > .firsttry/cli_doctor_help.txt
           echo "ðŸ“ CLI help files generated for drift detection"
-
       - name: Upload CLI help
-        uses: actions/upload-artifact@v4
+        uses: actions/upload-artifact@v3
         if: matrix.test-tier == 'lite' && always()
         with:
           name: cli-help
@@ -257,7 +213,6 @@ jobs:
             .firsttry/cli_status_help.txt
             .firsttry/cli_doctor_help.txt
           retention-days: 30
-
       - name: Comment coverage on PR
         if: ${{ github.event_name == 'pull_request' && github.event.pull_request.head.repo.full_name == github.repository && always() }}
         uses: actions/github-script@v7
@@ -280,17 +235,14 @@ jobs:
               repo: context.repo.repo,
               body: comment
             });
-
       - name: Assert FT_CRITICAL_MIN_RATE is set
         run: |
           test -n "${FT_CRITICAL_MIN_RATE:-}" || { echo "FT_CRITICAL_MIN_RATE not set"; exit 1; }
-
       - name: Enforce critical coverage (per-file gate)
         env:
           FT_CRITICAL_MIN_RATE: "60"
         run: |
           python tools/check_critical_coverage.py
-
       - name: Enforce critical coverage (main stricter)
         if: ${{ github.ref_name == 'main' }}
         env:
@@ -298,10 +250,9 @@ jobs:
           FT_COVERAGE_JSON_OUT: ".firsttry/critical_coverage_summary.json"
         run: |
           python tools/check_critical_coverage.py
-
       - name: Upload coverage artifacts
         if: always()
-        uses: actions/upload-artifact@v4
+        uses: actions/upload-artifact@v3
         with:
           name: coverage-artifacts
           path: |
@@ -309,7 +260,6 @@ jobs:
             coverage.json
             .firsttry/critical_coverage_summary.json
           retention-days: 30
-
       - name: Comment per-file critical coverage (REST, idempotent)
         if: ${{ github.event_name == 'pull_request' && github.event.pull_request.head.repo.full_name == github.repository && always() }}
         uses: actions/github-script@v7
@@ -350,7 +300,6 @@ jobs:
               core.info('Created new coverage comment.');
             }
 
-
   # === Enterprise & Security Validation ===
   enterprise-features:
     name: Enterprise Features
@@ -358,19 +307,16 @@ jobs:
     needs: setup
     steps:
       - uses: actions/checkout@v4
-
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: ${{ needs.setup.outputs.python-version }}
           cache: pip
-
       - name: Install dependencies
         run: |
           python -m pip install --upgrade pip
           pip install -r requirements.txt
           pip install pytest==8.4.2
-
       - name: Run enterprise feature tests
         run: |
           echo "ðŸš€ Running enterprise feature validation tests..."
@@ -378,10 +324,9 @@ jobs:
             --cov=src/firsttry \
             -v \
             --tb=short
-
       - name: Upload enterprise test results
         if: always()
-        uses: actions/upload-artifact@v5  # v4 pinned by SHA
+        uses: actions/upload-artifact@v3
         with:
           name: enterprise-tests
           path: |
@@ -396,31 +341,26 @@ jobs:
     needs: setup
     steps:
       - uses: actions/checkout@v4
-
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: ${{ needs.setup.outputs.python-version }}
-
       - name: Install security tools
         run: |
           python -m pip install --upgrade pip
           pip install bandit==1.7.5 gitleaks
-
       - name: Run Bandit security scan
         run: |
           echo "ðŸ”’ Running Bandit security scanner..."
           bandit -r src/ -f json -o bandit-report.json || true
           echo "âœ… Bandit scan complete"
-
       - name: Check for secrets
         run: |
           echo "ðŸ” Checking for hardcoded secrets..."
           gitleaks detect --verbose --exit-code 0 || true
-
       - name: Upload security reports
         if: always()
-        uses: actions/upload-artifact@v5  # v4 pinned by SHA
+        uses: actions/upload-artifact@v3
         with:
           name: security-reports
           path: |
@@ -431,21 +371,18 @@ jobs:
     name: Performance Benchmark
     runs-on: ubuntu-latest
     needs: setup
-    continue-on-error: true  # Non-blocking - don't fail CI on benchmark issues
+    continue-on-error: true
     steps:
       - uses: actions/checkout@v4
-
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: ${{ needs.setup.outputs.python-version }}
           cache: pip
-
       - name: Install dependencies
         run: |
           python -m pip install --upgrade pip
           pip install -r requirements.txt
-
       - name: Run performance benchmark
         run: |
           echo "âš¡ Running performance benchmark..."
@@ -455,33 +392,24 @@ jobs:
           import json
           from pathlib import Path
           
-          # Benchmark configuration
           runs = {'cold': [], 'warm': []}
-          
-          # Clear cache for cold run
           cache_dir = Path('.firsttry/taskcache')
           if cache_dir.exists():
               import shutil
               shutil.rmtree(cache_dir)
           
-          # Cold run
           start = time.time()
-          result = subprocess.run(['python', '-m', 'firsttry', 'run', 'lite'], 
-                                capture_output=True, timeout=30)
+          subprocess.run(['python', '-m', 'firsttry', 'run', 'lite'], capture_output=True, timeout=30)
           cold_time = time.time() - start
           runs['cold'].append(cold_time)
           
-          # Warm run (with cache)
           start = time.time()
-          result = subprocess.run(['python', '-m', 'firsttry', 'run', 'lite'],
-                                capture_output=True, timeout=30)
+          subprocess.run(['python', '-m', 'firsttry', 'run', 'lite'], capture_output=True, timeout=30)
           warm_time = time.time() - start
           runs['warm'].append(warm_time)
           
-          # Calculate metrics
           speedup = cold_time / warm_time if warm_time > 0 else 0
           
-          # Store results
           bench_result = {
               'cold_run_seconds': cold_time,
               'warm_run_seconds': warm_time,
@@ -497,15 +425,13 @@ jobs:
           print(f'  Warm run: {warm_time:.2f}s')
           print(f'  Speedup: {speedup:.2f}x')
           "
-
       - name: Upload benchmark results
         if: always()
-        uses: actions/upload-artifact@v5  # v4 pinned by SHA
+        uses: actions/upload-artifact@v3
         with:
           name: benchmarks-ci
           path: .firsttry/bench_ci.json
           retention-days: 90
-
       - name: Check performance SLO
         run: |
           echo "ðŸ“Š Checking performance SLO..."
@@ -515,7 +441,7 @@ jobs:
           
           bench = json.loads(Path('.firsttry/bench_ci.json').read_text())
           warm_run = bench['warm_run_seconds']
-          slo_threshold = 0.5  # 500ms target
+          slo_threshold = 0.5
           
           if warm_run <= slo_threshold:
               print(f'âœ… SLO passed: {warm_run:.2f}s <= {slo_threshold}s')
@@ -533,18 +459,15 @@ jobs:
     if: always()
     steps:
       - uses: actions/checkout@v4
-
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: ${{ needs.setup.outputs.python-version }}
           cache: pip
-
       - name: Install dependencies
         run: |
           python -m pip install --upgrade pip
           pip install jsonschema==4.20.0 -r requirements.txt
-
       - name: Compute policy hash
         id: policy
         run: |
@@ -565,7 +488,6 @@ jobs:
             print(f"url={u}")
             print(f"hash={h}")
           PY
-
       - name: Generate audit report
         env:
           POLICY_HASH: ${{ steps.policy.outputs.hash }}
@@ -581,10 +503,7 @@ jobs:
           
           from audit_emit import emit_audit_report, emit_audit_json, emit_audit_summary
           
-          # Determine overall status from job results
           status = 'pass' if '${{ job.status }}' == 'success' else 'fail'
-
-          # Build compliance/policy proof from environment (populated by previous step)
           compliance = {
               'policy_enforced': True,
               'policy_url': os.environ.get('FT_POLICY_URL',''),
@@ -624,16 +543,12 @@ jobs:
               status=status
           )
           
-          # Emit reports
           output_dir = Path('.firsttry')
           output_dir.mkdir(exist_ok=True)
-          
           emit_audit_json(report, output_dir / 'audit.json')
           emit_audit_summary(report, output_dir / 'audit_summary.txt')
-          
           print('âœ… Audit report generated')
           "
-
       - name: Validate audit schema
         run: |
           echo "âœ”ï¸  Validating audit schema..."
@@ -660,17 +575,15 @@ jobs:
                   print(f'  - {error}')
               exit(1)
           "
-
       - name: Upload audit artifacts
         if: always()
-        uses: actions/upload-artifact@v4
+        uses: actions/upload-artifact@v3
         with:
           name: audit-reports
           path: |
             .firsttry/audit.json
             .firsttry/audit_summary.txt
           retention-days: 90
-
       - name: Comment audit report on PR
         if: ${{ github.event_name == 'pull_request' && github.event.pull_request.head.repo.full_name == github.repository && always() }}
         uses: actions/github-script@v7
@@ -678,7 +591,6 @@ jobs:
           script: |
             const fs = require('fs');
             const summary = fs.readFileSync('.firsttry/audit_summary.txt', 'utf8');
-            
             github.rest.issues.createComment({
               issue_number: context.issue.number,
               owner: context.repo.owner,
@@ -693,7 +605,6 @@ jobs:
     if: always()
     steps:
       - uses: actions/checkout@v4
-
       - name: Check PR policy compliance
         if: github.event_name == 'pull_request'
         run: |
@@ -701,24 +612,16 @@ jobs:
           python -c "
           import subprocess
           import json
-          
-          # Get PR information
           pr_title = '${{ github.event.pull_request.title }}'
           pr_body = '''${{ github.event.pull_request.body }}'''
-          
           print(f'PR Title: {pr_title}')
-          
-          # Conventional commit check
           conventional_prefixes = ['feat:', 'fix:', 'docs:', 'style:', 'refactor:', 'perf:', 'test:', 'ci:', 'chore:']
           if not any(pr_title.startswith(p) for p in conventional_prefixes):
               print('âš ï¸  Warning: PR title does not follow conventional commits')
           else:
               print('âœ… PR follows conventional commits format')
-          
-          # Check for breaking changes
           if 'BREAKING CHANGE' in pr_body:
               print('â„¹ï¸  Breaking change detected in PR body')
-          
           print('âœ… Policy checks complete')
           "
 
diff --git a/.github/workflows/codeql.yml b/.github/workflows/codeql.yml
index 57e1801e..2083813c 100644
--- a/.github/workflows/codeql.yml
+++ b/.github/workflows/codeql.yml
@@ -47,7 +47,7 @@ jobs:
           tools: latest
 
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: "3.11"
           cache: "pip"
diff --git a/.github/workflows/firsttry-ci-parity.yml b/.github/workflows/firsttry-ci-parity.yml
index cdaba538..261b1efc 100644
--- a/.github/workflows/firsttry-ci-parity.yml
+++ b/.github/workflows/firsttry-ci-parity.yml
@@ -9,7 +9,7 @@ jobs:
     runs-on: ubuntu-latest
     steps:
       - uses: actions/checkout@v4
-      - uses: actions/setup-python@v5
+      - uses: actions/setup-python@v4
         with:
           python-version: "3.11"
       - run: pip install --upgrade --progress-bar=off -c .firsttry/constraints.txt -e ".[test]" -r .firsttry/ci-extra-requirements.txt build
diff --git a/.github/workflows/firsttry-ci.yml b/.github/workflows/firsttry-ci.yml
index 562ece3c..34625d20 100644
--- a/.github/workflows/firsttry-ci.yml
+++ b/.github/workflows/firsttry-ci.yml
@@ -20,7 +20,7 @@ jobs:
     steps:
       - uses: actions/checkout@v4
 
-      - uses: actions/setup-python@v5
+      - uses: actions/setup-python@v4
         with:
           python-version: '3.11'
 
@@ -58,7 +58,7 @@ jobs:
 
       - name: Upload coverage.xml (from CLI gate)
         if: always()
-        uses: actions/upload-artifact@v4
+        uses: actions/upload-artifact@v3
         with:
           name: firsttry-coverage
           path: coverage.xml
diff --git a/.github/workflows/firsttry-proof.yml b/.github/workflows/firsttry-proof.yml
index e8a20aaa..dd675802 100644
--- a/.github/workflows/firsttry-proof.yml
+++ b/.github/workflows/firsttry-proof.yml
@@ -24,7 +24,7 @@ jobs:
           ls -la
 
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: "3.11"
 
@@ -75,7 +75,7 @@ jobs:
 
       - name: Upload artifacts (always)
         if: always()
-        uses: actions/upload-artifact@v4
+        uses: actions/upload-artifact@v3
         with:
           name: firsttry-reports
           path: .firsttry/
diff --git a/.github/workflows/firsttry-quality.yml b/.github/workflows/firsttry-quality.yml
index ae91cf92..36f989f3 100644
--- a/.github/workflows/firsttry-quality.yml
+++ b/.github/workflows/firsttry-quality.yml
@@ -24,7 +24,7 @@ jobs:
         uses: actions/checkout@v4
 
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: "3.11"
           cache: "pip"
diff --git a/.github/workflows/gates-safety-suite.yml b/.github/workflows/gates-safety-suite.yml
index 863f2960..a1d8bd9b 100644
--- a/.github/workflows/gates-safety-suite.yml
+++ b/.github/workflows/gates-safety-suite.yml
@@ -18,7 +18,7 @@ jobs:
         uses: actions/checkout@v4
       
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: '3.12'
       
@@ -63,7 +63,7 @@ jobs:
         uses: actions/checkout@v4
       
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: '3.12'
       
@@ -89,7 +89,7 @@ jobs:
         run: ./scripts/check_coverage_floor.sh
       
       - name: Upload coverage artifact
-        uses: actions/upload-artifact@v4
+        uses: actions/upload-artifact@v3
         with:
           name: coverage-report
           path: coverage.json
diff --git a/.github/workflows/licensing-ci.yml b/.github/workflows/licensing-ci.yml
index f1d54700..fa6cce3f 100644
--- a/.github/workflows/licensing-ci.yml
+++ b/.github/workflows/licensing-ci.yml
@@ -24,7 +24,7 @@ jobs:
         uses: actions/checkout@v4
 
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: "3.11"
           cache: "pip"
diff --git a/.github/workflows/node-ci.yml b/.github/workflows/node-ci.yml
index 1ad38321..e4b5a75e 100644
--- a/.github/workflows/node-ci.yml
+++ b/.github/workflows/node-ci.yml
@@ -120,7 +120,7 @@ jobs:
 
       - name: Upload VS Code Extension Artifact
         if: steps.vscheck.outputs.present == 'true'
-        uses: actions/upload-artifact@v4
+        uses: actions/upload-artifact@v3
         with:
           name: vscode-extension.vsix
           path: vscode-extension/*.vsix
diff --git a/.github/workflows/quality.yml b/.github/workflows/quality.yml
index 4aec22c6..3440b05d 100644
--- a/.github/workflows/quality.yml
+++ b/.github/workflows/quality.yml
@@ -15,7 +15,7 @@ jobs:
         uses: actions/checkout@v4
 
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: "3.11"
           cache: "pip"
diff --git a/.github/workflows/remote-cache-e2e.yml b/.github/workflows/remote-cache-e2e.yml
index 7b91a142..e88d4ac4 100644
--- a/.github/workflows/remote-cache-e2e.yml
+++ b/.github/workflows/remote-cache-e2e.yml
@@ -31,7 +31,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: "3.11"
           cache: pip
@@ -67,7 +67,7 @@ jobs:
 
       - name: Upload test results
         if: always()
-        uses: actions/upload-artifact@v4
+        uses: actions/upload-artifact@v3
         with:
           name: remote-cache-test-results
           path: .pytest_cache/
diff --git a/.github/workflows/remote-cache-hardened.yml b/.github/workflows/remote-cache-hardened.yml
index b37fcf09..82688509 100644
--- a/.github/workflows/remote-cache-hardened.yml
+++ b/.github/workflows/remote-cache-hardened.yml
@@ -52,7 +52,7 @@ jobs:
           fetch-depth: 0
         # v4 pinned by SHA
 
-      - uses: actions/setup-python@v5
+      - uses: actions/setup-python@v4
         with:
           python-version: "3.11"
           cache: "pip"
@@ -122,7 +122,7 @@ jobs:
           fetch-depth: 0
         # v4 pinned by SHA
 
-      - uses: actions/setup-python@v5
+      - uses: actions/setup-python@v4
         with:
           python-version: "3.11"
           cache: "pip"
@@ -191,7 +191,7 @@ jobs:
       - uses: actions/checkout@v4
         # v4 pinned by SHA
 
-      - uses: actions/setup-python@v5
+      - uses: actions/setup-python@v4
         with:
           python-version: "3.11"
         # v5 pinned by SHA
diff --git a/.github/workflows/remote-cache.yml b/.github/workflows/remote-cache.yml
index a43b1109..b9928393 100644
--- a/.github/workflows/remote-cache.yml
+++ b/.github/workflows/remote-cache.yml
@@ -55,7 +55,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: "3.11"
 
@@ -109,7 +109,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: "3.11"
 
@@ -191,7 +191,7 @@ jobs:
 
       - name: Upload cache sync report
         if: always()
-        uses: actions/upload-artifact@v4
+        uses: actions/upload-artifact@v3
         with:
           name: cache-sync-report
           path: .firsttry/cache_sync_report.json
@@ -206,7 +206,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Set up Python
-        uses: actions/setup-python@v5
+        uses: actions/setup-python@v4
         with:
           python-version: "3.11"
 
-- 
2.49.0

