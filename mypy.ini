[mypy]
python_version = 3.11
ignore_missing_imports = True
warn_unused_ignores = True
show_error_codes = True

# We are not strict yet, but want clean mypy for optics.
disallow_untyped_defs = False
disallow_incomplete_defs = False
check_untyped_defs = False
no_implicit_optional = False

# Limit files scanned by mypy to the repository code and tests only.
# Benchmarks contain synthetic repos and intentionally malformed snippets
# which should not block developer flows.
# Restrict mypy to the core package to reduce noisy duplicate-module and
# benchmark-related findings while we iteratively fix typing issues.
files = src/firsttry
# Exclude benchmark repos (synthetic) and the `licensing/tests` package.
# The `licensing/tests` directory contains a `tests` package that clashes with
# the top-level `tests` package; excluding it prevents the "Duplicate module
# named 'tests'" error while keeping mypy checks for `src/` and top-level
# `tests/` intact.
exclude = ^(benchmarks/|licensing/tests/|build/)
